<!DOCTYPE html>
<html lang="pt-br">
<head>
  <!-- ====================================================================
       Mantido exatamente o <head> original do index.html, com ajustes para o Blog
     ==================================================================== -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog | OLV Internacional</title>
  <meta name="description" content="Últimas notícias e análises sobre Comércio Exterior, Supply Chain & Logística, Licitações, Internacionalização de PMEs, Câmbio, Agronegócio, Tecnologia e Compliance. Fique atualizado com conteúdos selecionados das principais fontes.">
  <meta name="keywords" content="Consultoria em exportação, Consultoria em importação, Exportação de produtos, Logística internacional, 3PL, 4PL, Como Exportar Legalmente?, Especialistas em Comex, Abra sua Importadora!, Importação Sem Burocracia, Suporte Total no Comex, Comex para Empresas PME, Planeje sua Exportação, Importar com Segurança, Exportação para Iniciantes, Documentação de Comex, Treinamento em Comércio, Desembaraço Aduaneiro Rápido, Planejamento Tributário Comex, Passo a Passo da Exportação, Exportar Alimentos do Brasil, Importar com Redução Fiscal, Consultoria para Radar SISCOMEX, Regularize sua Empresa Comex, Exportar com Baixo Custo, Importação para Revenda, Exportação Café e Soja, Logística 3PL para Exportação, Montamos sua Operação Comex, Suporte do Radar ao Embarque, Exportação Sem Erros, Reduza Custos de Importação, Exportação Legalizada e Fácil, Exportar com Lucro Real, Reduza erros e custos com nossa consultoria completa em importação e exportação, Ajudamos sua empresa a operar legalmente e com mais eficiência no comércio exterior, Suporte completo: Radar, tributos, logística e operação, Fale com nossos especialistas!, Comex sem mistérios, Tenha acompanhamento em todas as etapas da importação">
  <meta property="og:title" content="Blog | OLV Internacional">
  <meta property="og:description" content="Últimas notícias e análises sobre Comércio Exterior, Supply Chain & Logística, Licitações, Internacionalização de PMEs, Câmbio, Agronegócio, Tecnologia e Compliance. Fique atualizado com conteúdos selecionados das principais fontes.">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Favicon e CSS Global -->
  <link rel="icon" href="icons/favicon.svg">
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- Script JS (tema claro/escuro + menu ativo + notícias) -->
  <script defer src="js/script.js"></script>
</head>

<body class="theme-dark">
  <!-- =============================================
       SIDEBAR (sem alterações)
     ============================================= -->
  <aside class="sidebar">
    <nav class="sidebar-nav">
      <ul>
        <li>
          <a href="stratevo.html" class="sidebar-item" data-tooltip="Inteligência de Mercado e Gestão Estratégica">
            <img src="icons/stratevo-simple.svg" alt="Ícone STRATEVO" class="sidebar-icon" />
            <span class="sidebar-text">STRATEVO</span>
          </a>
        </li>
        <li>
          <a href="exceltta.html" class="sidebar-item" data-tooltip="Simuladores de Processo e Otimização Financeira">
            <img src="icons/exceltta-simple.svg" alt="Ícone EXCELTTA" class="sidebar-icon" />
            <span class="sidebar-text">EXCELTTA</span>
          </a>
        </li>
        <li>
          <a href="connecta.html" class="sidebar-item" data-tooltip="Conexões Seguras com Fornecedores Homologados">
            <img src="icons/connecta.svg" alt="Ícone OLV CONNECTA" class="sidebar-icon" />
            <span class="sidebar-text">OLV CONNECTA</span>
          </a>
        </li>
        <li>
          <a href="veritus.html" class="sidebar-item" data-tooltip="Compliance, Due Diligence e Governança">
            <img src="icons/veritus.svg" alt="Ícone OLV VERITUS" class="sidebar-icon" />
            <span class="sidebar-text">OLV VERITUS</span>
          </a>
        </li>
        <li>
          <a href="finx.html" class="sidebar-item" data-tooltip="Gestão Financeira e Otimização de Fluxo de Caixa">
            <img src="icons/finx.svg" alt="Ícone OLV FINX" class="sidebar-icon" />
            <span class="sidebar-text">OLV FINX</span>
          </a>
        </li>
        <li>
          <a href="academy.html" class="sidebar-item" data-tooltip="Educação Corporativa e Desenvolvimento de Talentos">
            <img src="icons/academy.svg" alt="Ícone OLV ACADEMY" class="sidebar-icon" />
            <span class="sidebar-text">OLV ACADEMY</span>
          </a>
        </li>
        <li>
          <a href="labs.html" class="sidebar-item" data-tooltip="Inovação, Pesquisa e Desenvolvimento com IA">
            <img src="icons/labs.svg" alt="Ícone OLV LABS" class="sidebar-icon" />
            <span class="sidebar-text">OLV LABS</span>
          </a>
        </li>
        <li>
          <a href="ventures.html" class="sidebar-item" data-tooltip="Venture Builder e Aceleração de Startups">
            <img src="icons/ventures.svg" alt="Ícone OLV VENTURES" class="sidebar-icon" />
            <span class="sidebar-text">OLV VENTURES</span>
          </a>
        </li>
        <li>
          <a href="core.html" class="sidebar-item" data-tooltip="Cockpit de Gestão 360° e Business Intelligence">
            <img src="icons/core.svg" alt="Ícone OLV CORE" class="sidebar-icon" />
            <span class="sidebar-text">OLV CORE</span>
          </a>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- =============================================
       HEADER FIXO (sem alterações)
     ============================================= -->
  <header class="header-wrapper">
    <div class="header-inner">
      <!-- LOGO + SLOGAN -->
      <div class="header-brand">
        <a href="index.html" class="header-logo-link" title="OLV Internacional">
          <div class="header-logo-circle">
            <img src="images/olv-logo.jpeg" alt="OLV Internacional" class="header-logo-img" />
          </div>
        </a>
        <span class="header-slogan">Integramos Estratégia, Operação e Resultado</span>
      </div>

      <!-- MENU PRINCIPAL -->
      <nav class="nav-menu">
        <a href="index.html" class="nav-item" data-page="index">Home</a>
        <a href="sobre.html" class="nav-item" data-page="sobre">Sobre</a>
        <a href="solucoes.html" class="nav-item" data-page="solucoes">Soluções</a>
        <a href="ecossistema.html" class="nav-item" data-page="ecossistema">Ecossistema</a>
        <a href="radar360.html" class="nav-item" data-page="radar360">Radar 360</a>
        <a href="blog.html" class="nav-item active" data-page="blog">Blog</a>
        <a href="contato.html" class="nav-item" data-page="contato">Contato</a>
        <a href="politica.html" class="nav-item" data-page="politica">Política</a>
      </nav>

      <!-- SWITCH DE TEMA -->
      <div class="theme-switch-wrapper">
        <label class="theme-switch" for="theme-checkbox">
          <input type="checkbox" id="theme-checkbox" />
          <div class="switch-inner">
            <span class="switch-icon moon-icon">
              <img src="icons/moon.svg" alt="Lua" />
            </span>
            <span class="switch-icon sun-icon">
              <img src="icons/sun.svg" alt="Sol" />
            </span>
          </div>
        </label>
      </div>
    </div>
  </header>

  <!-- =============================================
       TICKER ( comum a todas as páginas )        
       – Clique leva sempre ao nosso blog           
     ============================================= -->
  <div class="ticker">
    <div class="ticker-inner" id="ticker-inner">
      <!-- Conteúdo será injetado via JS -->
    </div>
  </div>

  <!-- =============================================
       CONTEÚDO PRINCIPAL – BLOG                 
     ============================================= -->
  <main class="main-content">
    <!-- ========== SEÇÃO HERO DO BLOG ========== -->
    <section class="section hero">
      <div class="container hero-grid">
        <div class="hero-texto">
          <h2 class="hero-title">
            <img src="icons/newspaper.svg" alt="Blog" class="section-icon" />
            Blog OLV Internacional
          </h2>
          <p class="hero-description">
            Acompanhe as últimas notícias, análises e tendências de Comércio Exterior, Supply Chain, Licitações,
            Câmbio, Agronegócio, Tecnologia e Compliance. Fique informado com conteúdos selecionados de fontes
            oficiais e confiáveis.
          </p>
        </div>
      </div>
    </section>

    <!-- ========== FILTROS E ORDENAÇÃO ========== -->
    <section class="section" id="blog-filters">
      <div class="container">
        <div class="filter-bar">
          <label for="category-filter">Categoria:</label>
          <select id="category-filter" name="category-filter">
            <option value="">Todas</option>
            <option value="comercio-exterior">Comércio Exterior</option>
            <option value="supply-chain">Supply Chain & Logística</option>
            <option value="licitacoes">Licitações & Compras Públicas</option>
            <option value="internacionalizacao">Internacionalização & PME</option>
            <option value="cambio">Câmbio & Cenário Econômico</option>
            <option value="agronegocio">Agronegócio & Exportação</option>
            <option value="tecnologia">Tecnologia, IA & Inovação</option>
            <option value="compliance">Compliance & Planejamento Tributário</option>
          </select>

          <label for="sort-filter">Ordenar por:</label>
          <select id="sort-filter" name="sort-filter">
            <option value="date-desc">Data (Mais recentes)</option>
            <option value="date-asc">Data (Mais antigas)</option>
            <option value="category">Categoria</option>
          </select>
        </div>
      </div>
    </section>

    <!-- ========== GRID DE CARDS DE NOTÍCIAS ========== -->
    <section class="section" id="blog-cards">
      <div class="container">
        <div class="cards-grid" id="cards-container">
          <!-- Os <article class="card" data-category="...">
               serão gerados dinamicamente via JavaScript, conforme notícias. -->
        </div>

        <!-- PAGINAÇÃO (8 cards por página) -->
        <div class="pagination-container" id="pagination">
          <button id="prev-btn" disabled>« Anterior</button>
          <span id="page-info">Página 1 de 1</span>
          <button id="next-btn" disabled>Próxima »</button>
        </div>
      </div>
    </section>

<!-- ========== CONTATO RÁPIDO (versão única-linha + card flexível) ========== -->
<section class="section contato">
  <div class="container contato-container">
    <div class="contato-card">
      <p class="contact-paragraph">
        Entre em contato agora via WhatsApp, e-mail ou formulário. Nossa equipe está pronta para transformar sua operação.
      </p>
      <a href="contato.html" class="cta-button">Fale Agora</a>
    </div>
  </div>
</section>


  <!-- =============================================
       FOOTER (sem alterações)
     ============================================= -->
  <footer class="footer">
    <div class="container footer-container">
      <p>
        &copy; 2025 OLV INTERNACIONAL | CNPJ 67.867.580/0001-90 | Desenvolvido com excelência pelo Ecossistema OLV CORE
      </p>
      <div class="social-icons">
        <a href="https://instagram.com/olvinternacional" title="Instagram OLV Internacional" target="_blank">
          <img src="icons/instagram.svg" alt="Instagram" />
        </a>
        <a href="https://linkedin.com/in/olvinternacional" title="LinkedIn OLV Internacional" target="_blank">
          <img src="icons/linkedin.svg" alt="LinkedIn" />
        </a>
        <a href="https://facebook.com/olvinternacional" title="Facebook OLV Internacional" target="_blank">
          <img src="icons/facebook.svg" alt="Facebook" />
        </a>
        <a href="mailto:atendimento@olvinternacional.com.br" title="Enviar E-mail para OLV Internacional">
          <img src="icons/email.svg" alt="E-mail" />
        </a>
      </div>
    </div>
  </footer>

  <!-- =============================================
       BOTÕES FLUTUANTES (sem alterações)
     ============================================= -->
  <div class="floating-buttons">
    <a href="https://wa.me/551126751446" class="whatsapp-button" title="Fale conosco pelo WhatsApp" target="_blank">
      <img src="icons/whatsapp.svg" alt="WhatsApp" /> WhatsApp
    </a>
    <a href="contato.html" class="specialist-button" title="Fale com um Especialista OLV">
      <img src="icons/email.svg" alt="E-mail" /> Fale com um Especialista
    </a>
  </div>


  <!-- =============================================
       SCRIPT FOOTER REVEAL (sem alterações)
     ============================================= -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const footer = document.querySelector('footer');
      function checkFooterReveal() {
        const scrollPosition = window.scrollY + window.innerHeight;
        const pageHeight = document.documentElement.scrollHeight;
        if (scrollPosition >= pageHeight - 2) {
          footer.classList.add('reveal');
        } else {
          footer.classList.remove('reveal');
        }
      }
      window.addEventListener('scroll', checkFooterReveal);
      checkFooterReveal();
    });
  </script>

  <!-- =============================================
       SCRIPTS DE NOTÍCIAS, TICKER, FILTRO E PAGINAÇÃO
     ============================================= -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // ===== VARIÁVEIS GLOBAIS =====
      let allNews = [];        // Armazena todas as notícias carregadas
      let filteredNews = [];   // Armazena notícias após filtrar por categoria
      let currentPage = 1;
      const itemsPerPage = 8;  // Exibir 8 cards por página

      const cardsContainer = document.getElementById("cards-container");
      const categoryFilter = document.getElementById("category-filter");
      const sortFilter = document.getElementById("sort-filter");
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");
      const pageInfo = document.getElementById("page-info");
      const tickerInner = document.getElementById("ticker-inner");

      // ===== FORMATO LEGÍVEL PARA CATEGORIA =====
      function formatCategoryLabel(cat) {
        switch (cat) {
          case "comercio-exterior": return "Comércio Exterior";
          case "supply-chain": return "Supply Chain & Logística";
          case "licitacoes": return "Licitações & Compras Públicas";
          case "internacionalizacao": return "Internacionalização & PME";
          case "cambio": return "Câmbio & Cenário Econômico";
          case "agronegocio": return "Agronegócio & Exportação";
          case "tecnologia": return "Tecnologia, IA & Inovação";
          case "compliance": return "Compliance & Planejamento Tributário";
          default: return cat;
        }
      }

      // ===== RENDERIZAÇÃO DOS CARDS NA PÁGINA ATUAL =====
      function renderPage(pageNumber) {
        cardsContainer.innerHTML = ""; // Limpa antes de renderizar

        const startIndex = (pageNumber - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;
        const pageItems = filteredNews.slice(startIndex, endIndex);

        if (pageItems.length === 0 && pageNumber > 1) {
          currentPage--;
          renderPage(currentPage);
          return;
        }

        pageItems.forEach(news => {
          const article = document.createElement("article");
          article.className = "card";
          article.setAttribute("data-category", news.category);

          // Card Img
          const imgDiv = document.createElement("div");
          imgDiv.className = "card-img";
          const imgEl = document.createElement("img");
          imgEl.src = news.image;
          imgEl.alt = news.title;
          imgDiv.appendChild(imgEl);

          // Card Content
          const contentDiv = document.createElement("div");
          contentDiv.className = "card-content";

          const h3 = document.createElement("h3");
          h3.textContent = news.title;

          const smallCat = document.createElement("small");
          smallCat.innerHTML = `<strong>Categoria:</strong> ${formatCategoryLabel(news.category)}`;

          const p1 = document.createElement("p");
          p1.textContent = news.summary1;

          const p2 = document.createElement("p");
          p2.textContent = news.summary2;

          const link = document.createElement("a");
          link.href = news.url;
          link.target = "_blank";
          link.rel = "noopener noreferrer";
          link.className = "card-link";
          link.textContent = "🔗 Leia a matéria completa";

          const smallDate = document.createElement("small");
          const iconDate = document.createElement("img");
          iconDate.src = "icons/calendar.svg";
          iconDate.alt = "Data";
          smallDate.appendChild(iconDate);
          const dateText = document.createTextNode(" " + news.date);
          smallDate.appendChild(dateText);

          contentDiv.appendChild(h3);
          contentDiv.appendChild(smallCat);
          contentDiv.appendChild(p1);
          contentDiv.appendChild(p2);
          contentDiv.appendChild(link);
          contentDiv.appendChild(smallDate);

          article.appendChild(imgDiv);
          article.appendChild(contentDiv);
          cardsContainer.appendChild(article);
        });

        // Ajusta botões de paginação
        const totalPages = Math.ceil(filteredNews.length / itemsPerPage) || 1;
        pageInfo.textContent = `Página ${currentPage} de ${totalPages}`;
        prevBtn.disabled = currentPage === 1;
        nextBtn.disabled = currentPage === totalPages;
      }

      // ===== FILTRAR & ORDENAR NOTÍCIAS =====
      function applyFiltersAndSort() {
        const selectedCategory = categoryFilter.value;
        const sortBy = sortFilter.value;

        // 1) FILTRO POR CATEGORIA
        if (!selectedCategory) {
          filteredNews = [...allNews];
        } else {
          filteredNews = allNews.filter(n => n.category === selectedCategory);
        }

        // 2) ORDENAR
        if (sortBy === "date-desc") {
          filteredNews.sort((a, b) => new Date(b.rawDate) - new Date(a.rawDate));
        } else if (sortBy === "date-asc") {
          filteredNews.sort((a, b) => new Date(a.rawDate) - new Date(b.rawDate));
        } else if (sortBy === "category") {
          filteredNews.sort((a, b) => a.category.localeCompare(b.category));
        }

        // 3) VOLTA À PÁGINA 1 E RENDERIZA
        currentPage = 1;
        renderPage(currentPage);
      }

      // ===== PREPARA TICKER COM AS MANCHETES =====
      function renderTicker() {
        tickerInner.innerHTML = ""; // Limpa antes de renderizar
        if (!allNews.length) return;

        // Cria um <p> único para conter todas as manchetes
        const p = document.createElement("p");
        allNews.forEach((news, index) => {
          const span = document.createElement("span");
          // Link sempre leva para nosso blog; ao chegar ao blog, usuário verá cards e clicará para fonte original
          const a = document.createElement("a");
          a.href = "blog.html";
          a.textContent = news.title;
          a.title = "Ir ao blog para esta notícia";
          a.setAttribute("data-news-index", index); // futuro uso se necessário
          span.appendChild(a);

          // Adiciona separador se não for última
          if (index < allNews.length - 1) {
            span.innerHTML += " – ";
          }
          p.appendChild(span);
        });
        tickerInner.appendChild(p);
      }

      // ===== FETCH DAS NOTÍCIAS (6 horas + ordenado) =====
      async function fetchNews() {
        try {
          // Endpoint unificado (deve retornar array já filtrado <6h e ordenado decrescente)
          const response = await fetch("https://minha-api.com.br/noticias/ultimas");
          if (!response.ok) throw new Error("Erro ao buscar notícias");

          const data = await response.json();
          // Espera-se: [ { title, summary1, summary2, url, image, date, rawDate, category }, ... ]
          // Filtrar localmente por <6h (caso backend não tenha filtrado)
          const nowTs = Date.now();
          const sixHoursAgoTs = nowTs - 6 * 60 * 60 * 1000;
          allNews = data.filter(item => new Date(item.rawDate).getTime() >= sixHoursAgoTs);

          // Ordenar do mais recente ao mais antigo
          allNews.sort((a, b) => new Date(b.rawDate) - new Date(a.rawDate));

          // Inicialmente, aplicamos filtros (sem categoria) e renderiza os primeiros cards
          filteredNews = [...allNews];
          currentPage = 1;
          renderPage(currentPage);

          // Renderiza ticker após carregar allNews
          renderTicker();
        } catch (err) {
          console.error("Erro ao buscar notícias:", err);
          // Falha silenciosa ou fallback (não implementado neste escopo)
          allNews = [];
          filteredNews = [];
          renderPage(1);
          renderTicker();
        }
      }

      // ===== EVENTOS DE FILTRO e PAGINAÇÃO =====
      categoryFilter.addEventListener("change", applyFiltersAndSort);
      sortFilter.addEventListener("change", applyFiltersAndSort);
      prevBtn.addEventListener("click", () => {
        if (currentPage > 1) {
          currentPage--;
          renderPage(currentPage);
        }
      });
      nextBtn.addEventListener("click", () => {
        const totalPages = Math.ceil(filteredNews.length / itemsPerPage) || 1;
        if (currentPage < totalPages) {
          currentPage++;
          renderPage(currentPage);
        }
      });

      // ===== INICIALIZAÇÃO =====
      filteredNews = [];
      currentPage = 1;
      pageInfo.textContent = "Página 1 de 1";
      prevBtn.disabled = true;
      nextBtn.disabled = true;

      // Busca imediata e agendada
      fetchNews();
      setInterval(fetchNews, 60 * 60 * 1000); // A cada 1 hora
    });
  </script>
</body>
</html>
